(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{787:function(e,t,a){},788:function(e,t,a){"use strict";var n=a(744),r=a(0),c=a.n(r),l=(a(789),["https://res.cloudinary.com/tuan-cloudinary/image/upload/v1609752561/saleOff/carousels/unnamed_2_d2ccjd.webp","https://res.cloudinary.com/tuan-cloudinary/image/upload/v1609752560/saleOff/carousels/unnamed_flqfng.webp","https://res.cloudinary.com/tuan-cloudinary/image/upload/v1609752560/saleOff/carousels/unnamed_1_t5luv4.webp"]);t.a=function(){return c.a.createElement(n.a,{className:"Product-Carousel m-tb-24 bor-rad-8",autoplay:!0},l.map((function(e,t){return c.a.createElement("img",{className:"Product-Carousel-img bor-rad-8",src:e,key:t})})))}},789:function(e,t,a){},791:function(e,t,a){"use strict";var n=a(51),r=a.n(n),c=a(73),l=a.n(c),i=a(25),s=a.n(i),o=a(727),u=a(726),f=a(56),A=a(743),m=a(227),p=a(207),d=a(40),b=a(20),v=a.n(b),h=a(0),g=a.n(h),E=a(35);a(787);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return e+t}),0)}function k(e){var t=e.initList,a=Object(h.useState)(l()(t)),n=s()(a,2),r=n[0],c=n[1],i=Object(h.useState)(!1),b=s()(i,2),v=b[0],y=b[1],k=Object(h.useState)({from:0,to:0}),x=s()(k,2),N=x[0],z=x[1],j=Object(h.useState)(0),B=s()(j,2),M=B[0],P=B[1];return g.a.createElement(u.a,{className:"Result-Search bor-rad-8 box-sha-home bg-white m-tb-32"},g.a.createElement(o.a,{span:24,className:"sort-wrapper p-lr-16"},g.a.createElement("div",{className:"sort p-tb-10 d-flex align-i-center"},g.a.createElement("h3",{className:"m-r-8 font-weight-700"},"Sắp xếp theo"),[{key:1,title:"Giá giảm dần"},{key:2,title:"Giá tăng dần"},{key:3,title:"Bán chạy nhất"},{key:4,title:"Đánh giá tốt nhất"},{key:5,title:"Khuyến mãi tốt nhất"}].map((function(e){return g.a.createElement(f.a,{className:"".concat(e.key===M?"sort-btn-active":""," m-4 bor-rad-4"),key:e.key,size:"large",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e){if(e===M)return c(l()(t)),void P(0);y(!0),P(e);var a=[];switch(e){case 1:a=r.sort((function(e,t){return t.price-e.price}));break;case 2:a=r.sort((function(e,t){return e.price-t.price}));break;case 3:a=r.sort((function(e,t){return w(t.rate)-w(e.rate)}));break;case 4:a=r.sort((function(e,t){return d.a.calStar(t.rate)-d.a.calStar(e.rate)}));break;case 5:a=r.sort((function(e,t){return t.discount-e.discount}));break;default:y(!1)}setTimeout((function(){y(!1),c(a)}),200)}}(e.key)}},e.title)})),g.a.createElement("div",{className:"m-l-8"},g.a.createElement(A.a,{className:"bor-rad-4",size:"large",min:0,max:1e9,style:{width:120},placeholder:"Giá thấp nhất",step:1e4,onChange:function(e){return z(O(O({},N),{},{from:e}))}})," - ",g.a.createElement(A.a,{className:"bor-rad-4",size:"large",min:N.from,max:1e9,style:{width:120},placeholder:"Giá cao nhất",step:1e4,onChange:function(e){return z(O(O({},N),{},{to:e}))}}),N.to>0&&g.a.createElement(f.a,{type:"primary",size:"large",className:"m-l-8 price-search-btn bor-rad-4",onClick:function(){y(!0);var e=N.from,a=N.to,n=t.filter((function(t){return t.price>=e&&t.price<=a}));setTimeout((function(){y(!1),c(n)}),200)}},"Lọc")))),g.a.createElement(o.a,{span:24,className:"Result-Search-list p-16"},r&&0!==r.length?v?g.a.createElement(m.a,{className:"trans-center",tip:"Đang cập nhật sản phẩm ...",size:"large"}):g.a.createElement(u.a,{gutter:[8,16]},function(e){return(e=e||[]).map((function(e,t){var a=e.avt,n=e.name,r=e.price,c=e.discount,l=e.stock,i=e._id;return g.a.createElement(o.a,{key:t,span:24,sm:12,lg:8,xl:6,xxl:4},g.a.createElement(E.b,{to:"/product/".concat(i)},g.a.createElement(p.a,{name:n,price:r,stock:l,avtUrl:a,discount:c,height:400})))}))}(r)):g.a.createElement("div",{className:"trans-center d-flex flex-direction-column pos-relative"},g.a.createElement("img",{className:"not-found-product m-0-auto",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAgKADAAQAAAABAAAAgAAAAABIjgR3AAAXiUlEQVR4Ae2de7BfVXXHf7kkgYQk5AFJDGlAIdwWTJVXrTzSDGLVcYqVYpVOqDOdcTrT/qMdC22pOlYcATvWmc74lzOt0FYc0Uot1PFBgUChwNhRmtSriIm1EQJ5kUtISEj6/fxy1737d+45e+9zfud1r2fPnLvP2Y+11l5r7bXW3vuc353Tm4Vp7969S0dGRkaPHTs2evz48VEN8Vxdp+lanHLNUdlBtXtJ+Utz5sw5qHy/rh0q23HSSSdt1z3XM6eddtp21R/X/axJDH5GJwlpkQR+pQZxla43TQh8ZRWDkvD3Cv6Typ/Q9fj8+fMfP/XUU39eBa66YM44BZAA5u/fv/8KzW4EznWpyubWxbAkHinCUyq7V9e/Llu27DE9v5ps0+bnGaMAEvqvv/rqqzeIme+TwJe3kakS/m7RdZ/czx1yF9/Rc+vdRasVQKb9bDF0s2Y7gj9P14xJEj7xwt9JWf9++fLlP20r4a1UgH379l0iod8spr1LDGwljbEClRIcU9t/0/UpKcIjsf3qatcq5u7Zs+dKCfwvNfjfrIsBdeKRMjwo9/DJpUuXfqtOvD5crVAAzfi3aMZ/TMInmv9FSE9IEW5S0PjvTQ+2UQU4ePDg2pdffvlvxITrmmZEQ/jvliJ8WIqwoyH8vUYUQDN9rsz9BzXoj+la1NTgW4L3kOi4XfHBbXIRbELVmmpXAEX2G6UAn9N1Qa0jbTkyCf9p8eT3V6xY8WidpI7UhWxi1t+q/IFO+NO5Lp6cKyXYIst4i+7nTW9RTUktFmD37t2/pMF9UQO7vJphzC6o4tV3582bt3nx4sX/U/XIKlcAafQ7NYgvSPgrqh7MLIM/rgDxBgWIX6tyXJW5AAl8RMK/TcR/vRN+IREuEt++qpjpo8orm6iVABbB80X4HcrfW2joXackB76iVcL75Ro4si41la4AEvpizfyvisqrS6W0A/a43k14u3YR95bJilIV4MCBAyuPHDlyn5Tg4jKJ7GCd4IAswPcVHL5VweGusnhSmgLI5J+l7Vz2uNeXRVwHJ5UDYwsWLHjLwoUL/y+1NmdhKUEgM1+z/tvC3Qk/pwAKNB89dOjQFm2jn1mg77QuQysAPn/C7PPeXZdq4IB4/lopwTdkdZcOi24oBRAh8wn4lHc+f1hJ5Owvnr9e1z26Ts7ZdaB5YQUQ4hGWeoLWRfsDLK3vQTLYqAn4j8iiKNbCHSX8Twlxt84vyvny+v0OsigKrtAqQFrH9i47fIX6FyW265fOAS0Pj+t6t7aN70lvkV2aW4ATBzv/JeF3e/vZfK29RgqwT2cHF2uj6Jk8yHO5AAl9rhBxqtcJPw+Xa2grmSzVPsyXlecKCnMpgHwNZ9XdkW4NAi2CQrK5SO751jx9o12AhM+bPLzMEd0nDyFd23I4IAt9TGcGl+vDlMdiIEZZAAl9ri5e4+qEH8PVBttIRiP6gurzyufHkBGlAJr9HxLAWfEO39GjR3uvvPJK7/Dhwz3tpvUv7imjbjYkZCVX8BcxYwnO6IlXt3k1aca9vYtQ7dJ2dbSA586d29OpW09f/05eMcxsUxu5giMax4YlS5aM+egKflWr9/Y/O5OEz2yW0vZEd08zwTf2zDosARcwSGJmTydwPZ3A9U4+OVeQnYmj6gqNfZ6Ung2ia324vBaAL3bkTzjla3XS8qcv9PHx8Z7orZRWBVi9RYsW9ZVB6+5KcZUE/DLfq+ZeBZAfeUia1NrPtZjhCF3H0YVne1EmYxX0YkZfGbhvaxJtD+t1skwZZlLOsk8z68G2DgzzrN8MqHzGh8aPRdCSq+8iQm2bqpcSXCMl+Hoa/kwbJuHfnNah6TLM/QsvvNCTdWpc+PAClwMt0ARtbUyylJkrglQLwPf5GtgTbRsMAZ4sUysEn8YbrIEOZFoZKGpF8Oa0zaFUC9DG2Y+vZ5aVEeQhKKJ5fDgXET7LvmF9ObRBI7S2LWlV8ydpNE2zAJphZ8tkPKNrWl0agDrK8PVFmcqanqgdoSNkyxF8WmL5xzISSwPOomYdnMQGbUlSbpZHr1Ms8FOXprR9gM1tEr7cUe+ll/J9D8HyDFPMxexGkGwIWdJPu9nttNwUhtmMktCPgBOlyKMM4BQfezqenYajiQLRcpKU4I+F+yYX/7RZrvP+H6pBK97uzTvzMeEIV+vennbA+uNkB5BloiU2c0455RR7TM2TCkMjhA8clBHBxqaWWYKfyQKsE58mBzAQA/BTbBpYK4SPELhiE4JftWpVf8bBdBKCcq2H+X4fTBTGtRbWFquCSQeHz4JYe8vzjsP6VZSvlUXd6MIeUACZvRvcyqbuifaZ/TEJwTDjMbUIGOHYDh2m2zXb1GElslJSYdLagQNc4DQ8ae3cMsbCmNqQNMbrXTomFUAVHB++z61s4h6BEYDFJPz16aefPmnS7QCHvvhwTvssYfZp70u0dxXG1xZ4Z5xxRhCmwWBMsbCtT0X5dZL1PIM9yRFp6RWqaPwXOGM3eFjGyZ8NzEL8O0njGDD9zFSCQV9CYezwx9fOrUOhUAJoDs1w4NMOha0pbZO1+ozwvujigzdSRhjVN7GTCiDtvMpt2MQ9AggxEroQfpKRCBjzTAIGyzlLKIbP9NPOjRWsX0yOckEL6/8Q7dQzxpAyxuANtZE1vDZ0FAyMSReg+0YVAM2M8fvMOma+mxC8RfaYWXcmu27B7ePeJxXGrYu9h6aQiwEWY2SsVSfxZGrp40HWj4hEED+5zk+hT1oET59KqlhivfjigLWahsdmG0J1E0s+Y35yCUfAlhWs2Zk/fRAKipSE7eIJ3bOCiDkTgN6sjagQjhz1/Fj1x3VNMlUvuDyvQHinC6OvAPJN7xAD7nMr6rxn1j777LPBmUHkbTPd6MMdEN2TYtb8CBpfjKCylnvAZCnJG0F5E4Gk9lK83XBHq1evzlRMb+chKoWX06rNslZfNDDmAho1/+yyIRhfStvAgZHmT+nv+nFmM4J0EzN9bGyst3PnzlTh09ZcyPPPP99jFzJElwufexTUFDJZZ8/AZMx1J+EdEc8GZG0m/011E+PiQzC+hKBtZ89tB6PNvOP3EZ4l6uhnCYbv2LFjoI3VAcPta+UoFG4Cy+PCsvqsHPMeUmrGbBtWWXCS5aKBAe7QxWw5SwI9EfWeaMh++YB5P1E89Vf9n5Or/MxUSa9nCvDLbmGd9wRgLJF8CWEyo93kBnf09635qd++ffuAkG2mYuZRAGYlLoQ4xI3muUdYeXw2tEKzT7GhCdhJK+WOMXHP/zO6XOcb36NcdI5KOR8V3ctU/pDK36ncP5MSAHkckZlbJiBnpNTVUhQyhQgnjfl51vz4fFfJbCcPJTALIub1fT5LuqS1KfLKGTQb7CxGhsbu9hN9D5vwKReNY5Lbd7hX3Rd05RY+ffEJo9w0ldwlWxoNCDrJyLxrfjcoY8YnBZzEi/DcABDr4FqYZPu0Z2g2JU2rpyw0drefaLhQs37ym0w9L5Hsfo02ur/abZvnfq58X2MKQBQOc33Jgjxrg3m1lYAFbFbnugUrA767KcQMd62BtUvm4HBXCS6MZNusZ2j3uQFoA4erbFmwVM4vsG2VMv+H7o/LqnFwt4b2gnO9ns9XzkludJIC3cknX40qgI9aZlGSOW5wlwy0qEsmDbK3du3avm8n6OIZxoeS7StYu7Qg0eqycmhnDL6+ORQANKt0vTsNn8b0BpVz5Uk/YRl4Tp4eZbZ1Z1gaXJvpVkfAZIIhYHP7p7kK64fPX7duXT/gihE+/ZJWwvAazNg8OYZkP3cMyboanteMiCGNvbKCEH3JZR4z19wBQgyt+ZNwweVG98n65HPS5xfdIXTHkMTBc4gHaX3KKhMf1xAEpr8cVxYWD5yQX3XNvzvDQ2v+JMqkwiTrk8+4FldZ0mKLZJ+sZ3cMaW1CPEjrU2LZalxAIx99xgzc1v4IwNbLmGZ3djLDQuaZ9j4/7DIUy8LZvZtCqwa3bfLexpAsd59jeOG2L+ueyc9GUCMWICQQl3G2nErOZAIscwtZTEFhYpZb0MPWb7Itwg+Z8SzcVs5YkjGF1ZGHeOG2Lfn+lMYUAGH6EsIlIWBTBsyyO1tQDGIDX3Jjhax2wGXWJ4XEO4B5t2vTcDCWJGy3XYgXbtsy74V3QasVAMHb7GOWuLMzxi8nFSaNeUThbBS5QsCl8Ep5yH+nwUsrM2VOq6PMxZ3VpopyTZ6+BagCdikw8675XaQoTGirFcazTewKAKvCsjFkWVxcM/j+GHY26s2RsgcZYjBCseAuz5rf6MRauIK1cjdHQVzTjLth5odoc2HE3Id8fNn4YmiaaHMABSh0iJADSWrT0KCNaQjR9eO4BVsRpAJWYeya313qAWuYaD+LFsptLFltQrzI6ldCeV8BGrEAIb9oM5OZ7DLQdQtpDEBhQqbf+hkOnqHHLI7Vl5W7eNJghniR1qeksuYUIMRsBMkMLbLmDzHcmOfSUHSnz2Bl5TG0uHRkwamo/ACHQY24AAbEwN1lXXKQLM0sEmeWlLXmNzws84CLspWx3DO4bh7a629Q+JB5gN/+5W1gl+ba7pl1PgXA95sClLXmdweH8Kv+hNu1YC5uu6/K8hj8QL6fIPDpQKPKqk24WQiMeWWt+bPwVFluY8jCEeJBVr+Syp/mMMj7Q4IlIUoFExo8wR8mNO2c3wVIu9jAz+1X9T20uwFsGr4QD9L6lFWG7GUFR3K9RVIWcuAw+NASCBeBqfalmDV/Wn9cH315a6eKY1lg+xJjb1IBxNcxONuYAsCcUGDHp1S+SDp2zZ8UBMLn3X92AsGxa9cu7+tbyf6h5xirFBp7CMew9aJxbERB0B5p4gvDAiva3076svrDSISTlhBiUdNPv+SsD32alkZDVhlvEofMf2jsWbBLKt+lXc99HAaRPq8r96thUpxRCeFX+xAK/mFXL3RcyizlZc5kxEyA5bMOPpLSVh8oFPDs9NHX31cHDHf3Mq1tzI5mWr+yyiS7fuzXVwB9K/bnRQFLOP8kxg386kReWKzBfV8GmxU488ypf5YJk0M+1kdHUploS6wxrPCBE/MdQVX7DuCPTP9JO390FQFJmjT0j0nHrPHZFIKxlkIzzNpl5eB0fbDG0T8FzGofW45VCtEGrobNP8O5nz/+tylo4Uma+XxWfq/yjZ5mUVUIN+SDmZ3nnHPCU4WYHIVUjYgDsDBYhNBqIwQTt0JgGfL9HDqlfe0Ugl9WvRTwqPw/n5SNDyiAXox4jwpvlkD9v6cyRQk2efrL+FP10XfC2XvuueeCPp1lE/EAs6hNCaEj/LTYwqUTJeaXxpqkX7gfldu/DLosCOzTqIrbJYiz+w81/4EhbMsS8PmSvcGDErQpQXdI+NDLGJsU/gTP+uaf+4EYQIQN7c8nEBTK8Mmhs34Ac0oY80schYjI2YmZH/P7QIBlbG7ckRNVac3l6iYVYMCOavbPkS9erwi77wI0OD4b+1tdK0vDHgAEQ1n3E+WHEidp/DZPWkQf6ltGPfFD7MzH9K9cuXLoOGNYujXJ98j9v0b5K8BKugCOBd2dwe8pyHuNhML/DaolEYiJwP6sCiHE5DL7aG8vj4b6lFVPtM/KBIWNSZxn0HbYQDMGV6DNXSZ82g24gIyOtX83gKmMPaaFqbzVyzv9MVYjY4zRxeAAFzjzCB8EoXcDookYoqEs0Z1u9wEXQIUGd7UGuYx7aeuoBskm0YlfYKSwxsTmkO/z6iQp0uz+yWHMjzMk+4aeETZLVZafrFhiE5bJPfDhuSmXJZp/qJ+7GfgafMAFMCgNdJOy/r+LidVw+lWRsAIwO3bNT1sUhn1+2+hxmV+ERmYtO47AzMsPLFkSv70f0IQSaEIPzH74Mc0CaKBrReRPxMxpylGEgWX0yWsJXJz4XGadzUSCMV/CxCN0BMWVV+gG2/DZczJHAWhDQrlQlCpfD5N1PK7rdYqXtveRTvyZpgCUy799Wdl1E21akTGzfecFeYhECVAMLhJC5iorhsByMftRJJ8C4bKox7VAE3sbVSmBcH1NK6ZpPy6RqgCKbn9DhD3Q506L/rD+J/IuS1BlDw0hsiJB+JagOSv4Yxyue6tSCQT7Un3x9KTRZXmqAlApK8BpUf9HiKxxG3JmDGtvGNumhNDZkzCr4tKGAiTpTQrf2lekBN9U8Pc2w+HmmctAEfIRt2Fb7mEwphJmw6ymEzRACzSlCR/6kv49S/i0pY69jZhtZdrHJJn/W7LaZVoAOmimdf86NoNz+G+Wm5zrcx9KtkLxCd+FUZYlEG1bpKAbXdjuvZdy+duNMrkPuh3aeI9bIJImUITBVSYEg9BZZmbN+Cz8HHcT8MWmMpRAMK6W7+//oGQaXq8C0EFW4D5p7zvSOrexDF+LMrB2Z9aVkZjhHOIgdDfAywMbmghg86YhleBu+f73+HAGFUA7g+doVv23gPj/15oPS0N1BF92cXAT61dZirFOx3fbNewQ7NyiiIUqqATjUtpfkdL+zEd7UAHoLM39iMzsX/kAzZQ6BIHLwDqYhWCGc2HSq1qHw5+aleBPNfv/OiSXKAUQo06WK/i+gJ0XAtjV+zlQhxJImbdqP+KNyo/6qYk7DWR2HNbs+EPl5TjVEFWzuB4Lw5IRs5434T5CS0RkpOuPdAWFD/7MfYAkcdKoB1T26WR595yfAxUrwe2S1UOxVEW5AAMmVzBProBfq77Eyrq8OAfKdgea9Y9I+JtiZz+UR1sAGgvwEWkvH4GM89yl4ThQpiWQbHZrgl6fR/hQn0sB6KCTrqeF5APcd2l4DpShBIoNiM3er6j/f/NSlFsBQKCtxbuUfSIvsq59OgeGVQJ9jzCuf7vnvsuZjiilNFcM4PaXuZmj/YG7lP+uW97dF+fAMDGBsO6UIm06//zzf5SHgsIKABIJf4GCwgd1e2kepF3bbA7UrQSFXICRr1jgZW2V8u/KtlpZlw/HgWHcgTCvkQI9sG3btvWxVAxlAQyJTuFW6RAGSzDwxqnVd3l+DtRlCUpRAIanV5vWoARyC+fmH27XI40DdSjBUC7AJVpfvuyU8K9S2Q/c8u6+OAfqcAelWQAbpo6Pl+m07V+kDFdYWZcPxwEsgZZ6h8XXqbdN40E+pXOHSy644IL+t4DJbqVZAAOst0/2ajvyrXq+28q6fDgO6N2EL+lFlIsExfvPoTOwbNBkvDGjLv9OYBYgt1yrgkPaLHqv8u7wyGVMznvxj5M9Dnd+b/369dtY5wtEbiWQAlyThbp0C2CIRPgxKcGNOka+Vvf7rbzL4zggnu1Wy98SD2+Cl/Rik6eIEkgBXp+FtTIFMITS3n+WElykQXzXyrrczwHx6hEJ7UIJ/95ky4JK8PMkHHuuXAFApLjgGSnCZbr9rGmzEdDlUxwQbzD5t4lXm3wHOwWU4LEpLIN3tSgAKDWwwxrUh6TZrA62DZLRPYk/W3Vt0qz/M+XBt3lyKMFBwftoFodrUwAjQErAL1RdqOdPiLAjVv4LnI+LDzdq1r9R10N5+OAowVMZ/Q5qCfiBDRs2/Dijfvrn4VkNqyjXhxLn6XXtWwV72lerVeBrIcyv6NXtD4Ze3Q7RvXXr1vmyrDfqukYXAR8+/zFmvk/4wC19IwigeZM+RL1MxH5axBMnzPqksW5RYPxx3xc7dTGhFQpgg9X7BWjwTbNYEb4p4d8iF7jFxtx03ioFMGbIIrxZ9x8Ws35bylB7nGJ0lJFrDLyudY9m/Cc1458sA2aZMFqpADZAPkvT/vcf6HmzFGGdlc+Q/EcS+h2i9R8U3G1vK82tVgBjmoQ/R8rAr5bcoDJ+umaJ1bUp12znd27vUuR9p16ezVx7t4rmNhETQ4uUYZ6U4XLlb1P7t+t6AwoS07fsNhI46/UndN2v2X6/hP6wylJP3crGXRa8RhhXFvHA0dtIq/UiypVi/MVShIuVX6R8eZk4HFi7BH9Mz/x8zv0y7Vv0PKO/kZjxCuAIZ/JWq4mz5S5GVbBOAjqLfOJaoXyhFIQfvlyoOnIOWvjVBrvGVX9AdftU9mPl/Gu1HwjemARO2axK/w8PiUTsInm7JgAAAABJRU5ErkJggg=="}),g.a.createElement("span",{className:"font-size-16px m-t-8 t-center"},"Không sản phẩm nào được tìm thấy"))))}k.defaultProps={initList:[]},k.propTypes={initList:v.a.array};t.a=k},799:function(e,t,a){},805:function(e,t,a){"use strict";a.r(t);var n=a(73),r=a.n(n),c=a(71),l=a.n(c),i=a(25),s=a.n(i),o=a(46),u=a.n(o),f=a(56),A=a(488),m=a(227),p=a(248),d=a(150),b=a(791),v=a(15),h=a(40),g=a(0),E=a.n(g),y=a(57),O=a(788);a(799);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e,r=!1,c=h.a.queryString(e);return c.forEach((function(e){var n=Object.keys(e)[0];n===t&&(e[n]=e[n].replace(new RegExp("(".concat(a,");?|;?(").concat(a,")"),"gi"),""),r=!0)})),r&&(n="?",c.forEach((function(e){var t=Object.keys(e)[0];n+="".concat(t,"=").concat(e[t],"&")})),n=n.slice(0,n.length-1)),n}t.default=function(){var e=decodeURI(Object(y.h)().search),t=Object(g.useState)(e),a=s()(t,2),n=a[0],c=a[1],i=h.a.replaceMongoKeyword(n),o=h.a.queryString(i),k=0,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={pOption:new Object,dOption:new Object};return e.forEach((function(e){var a=Object.keys(e)[0],n=e[a],r=h.a.analysisQuery(a,n),c=r.isProductAttr,l=r.result;c?Object.assign(t.pOption,l):Object.assign(t.dOption,l)})),t}(o.filter((function(e){return"t"!==Object.keys(e)[0]||(k=isNaN(parseInt(e.t))?0:parseInt(e.t),!1)}))),N=x.dOption,z=x.pOption,j=Object(g.useState)([]),B=s()(j,2),M=B[0],P=B[1],I=Object(g.useState)(1),Z=s()(I,2),D=Z[0],C=Z[1],X=Object(g.useState)(0),Q=s()(X,2),S=Q[0],G=Q[1],W=Object(g.useState)(!1),R=s()(W,2),U=R[0],T=R[1];function H(e,t){return L.apply(this,arguments)}function L(){return(L=l()(u.a.mark((function e(t,a){var n,r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,d.a.getFilterProducts(k,z,N,t,12);case 4:(n=e.sent)&&a&&(r=n.data,c=r.count,l=r.list,G(c),P(l),T(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),G(0),T(!1),P([]);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Object(g.useEffect)((function(){var e=!0;return T(!0),1!==D&&C(1),H(1,e),function(){e=!1}}),[n]),Object(g.useEffect)((function(){var e=!0;return H(D,e),function(){e=!1}}),[D]);var V=Object(g.useState)([]),J=s()(V,2),Y=J[0],F=J[1],K=Object(g.useState)([]),q=s()(K,2),_=q[0],$=q[1],ee=function(t,a,l){var i=t.title,s=t.to,o=_.findIndex((function(e){return e===l}));if(-1===o)$([].concat(r()(_),[l])),F([].concat(r()(Y),[{key:l,query:a,to:s,title:i,color:h.a.randomColor()}])),c(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e,r=!1,c=!1,l=h.a.queryString(e);return l.forEach((function(e){var n=Object.keys(e)[0];n===t&&(c=!0,-1===e[n].split(";").indexOf(a)&&(e[n]=e[n]+";"+a,r=!0))})),c||(n+="&".concat(t,"=").concat(a)),r&&(n="?",l.forEach((function(e){var t=Object.keys(e)[0];n+="".concat(t,"=").concat(e[t],"&")})),n=n.slice(0,n.length-1)),n}(n,a.slice(0,a.length-1),s));else{var u=[].concat(r()(_.slice(0,o)),r()(_.slice(o+1,_.length)));$(r()(u)),F([].concat(r()(Y.slice(0,o)),r()(Y.slice(o+1,Y.length)))),0===u.length?c(e):c(w(n,a.slice(0,a.length-1),s))}};return E.a.createElement("div",{className:"container",style:{minHeight:"100vh"}},E.a.createElement(O.a,null),!U&&E.a.createElement("h2",{className:"font-size-24px m-b-12"},"Tìm được ",E.a.createElement("b",null,S)," sản phẩm"),U?E.a.createElement(m.a,{className:"trans-center",tip:"Đang tìm kiếm sản phẩm phù hợp ...",size:"large"}):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"Filter-Options p-tb-16 bg-white bor-rad-8 box-sha-home"},E.a.createElement("div",{className:"list-active p-lr-16 p-b-8 d-flex justify-content-between"},E.a.createElement("b",{className:"font-size-22px filter-list m-r-20"},"Bộ lọc"),Y.length>0&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"d-flex align-i-center flex-wrap"},Y&&Y.map((function(t,a){return E.a.createElement(A.a,{className:"bor-rad-4",key:a,closable:!0,color:t.color,onClose:function(){return function(t,a,l){var i=Y.findIndex((function(e){return e.key===t})),s=[].concat(r()(Y.slice(0,i)),r()(Y.slice(i+1,Y.length)));F(r()(s)),$([].concat(r()(_.slice(0,i)),r()(_.slice(i+1,_.length)))),0===s.length?c(e):c(w(n,a,l))}(t.key,t.query,t.to)}},t.title)}))),E.a.createElement(f.a,{className:"bor-rad-4",type:"dashed",danger:!0,onClick:function(){$([]),F([]),c(e)}},E.a.createElement("b",null,"Xoá tất cả")))),E.a.createElement("div",{className:"p-lr-16 p-t-16"},function(e){if(!(e<0)){var t=v.a.FILTER_OPTION_LIST.find((function(t){return t.key===e})).data;return t&&t.map((function(e,t){return E.a.createElement("div",{key:t,className:"Filter-Options-item m-tb-14"},E.a.createElement("h3",{className:"Filter-Options-item--title"},e.title),E.a.createElement("div",null,e.subFilters.map((function(a,n){var r=t.toString()+n.toString();return E.a.createElement(f.a,{key:r,className:"bor-rad-4 m-r-8 ".concat(-1===_.findIndex((function(e){return e===r}))?"":"filter-active-btn"),onClick:function(){return ee(a,e.query,r)}},a.title)}))))}))}}(k))),E.a.createElement(b.a,{initList:M}),S>0&&E.a.createElement(p.a,{className:"m-tb-16 t-center",total:S,current:D,showSizeChanger:!1,pageSize:12,onChange:function(e){return C(e)}})))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9TZWFyY2hGaWx0ZXJQYWdlL1Byb2R1Y3RDYXJvdXNlbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9SZXN1bHRTZWFyY2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWdzL25vLXByb2R1Y3RzLWZvdW5kLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9TZWFyY2hGaWx0ZXJQYWdlL0ZpbHRlci9pbmRleC5qcyJdLCJuYW1lcyI6WyJsaXN0IiwiUHJvZHVjdENhcm91c2VsIiwiY2xhc3NOYW1lIiwiYXV0b3BsYXkiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJzcmMiLCJrZXkiLCJzdW1SYXRlIiwicmF0ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsIlJlc3VsdFNlYXJjaCIsInByb3BzIiwiaW5pdExpc3QiLCJ1c2VTdGF0ZSIsInNldExpc3QiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJmcm9tIiwidG8iLCJwcmljZSIsInNldFByaWNlIiwic29ydEJ0bkFjdGl2ZSIsInNldFNvcnRCdG5BY3RpdmUiLCJzcGFuIiwidGl0bGUiLCJzaXplIiwib25DbGljayIsInR5cGUiLCJuZXdMaXN0Iiwic29ydCIsInJhdGUiLCJoZWxwZXJzIiwiY2FsU3RhciIsImRpc2NvdW50Iiwic2V0VGltZW91dCIsIm9uU29ydCIsIm1pbiIsIm1heCIsInN0eWxlIiwid2lkdGgiLCJwbGFjZWhvbGRlciIsInN0ZXAiLCJvbkNoYW5nZSIsInZhbHVlIiwiZmlsdGVyIiwibGVuZ3RoIiwidGlwIiwiZ3V0dGVyIiwicHJvZHVjdCIsImF2dCIsIm5hbWUiLCJzdG9jayIsIl9pZCIsInNtIiwibGciLCJ4bCIsInh4bCIsIlByb2R1Y3RWaWV3IiwiYXZ0VXJsIiwiaGVpZ2h0Iiwic2hvd1Byb2R1Y3RzIiwiZGVmYXVsdFByb3BzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYXJyYXkiLCJyZW1vdmVPcHRpb25Ub1VybCIsInVybCIsInJlc3VsdCIsImlzQ2hhbmdlZCIsInF1ZXJ5TGlzdCIsInF1ZXJ5U3RyaW5nIiwiZm9yRWFjaCIsInF1ZXJ5IiwiayIsIk9iamVjdCIsImtleXMiLCJyZXBsYWNlIiwiUmVnRXhwIiwic2xpY2UiLCJGaWx0ZXJSZXN1bHQiLCJzIiwiZGVjb2RlVVJJIiwidXNlTG9jYXRpb24iLCJzZWFyY2giLCJzZXRVcmwiLCJyZXBsYWNlTW9uZ29LZXl3b3JkIiwicXVlcnlTdHJMaXN0IiwicE9wdGlvbiIsImRPcHRpb24iLCJhbmFseXNpc1F1ZXJ5IiwiaXNQcm9kdWN0QXR0ciIsImFzc2lnbiIsImFuYWx5c2lzUXVlcnlMaXN0IiwiaXNOYU4iLCJwYXJzZUludCIsInQiLCJwYWdlIiwic2V0UGFnZSIsInRvdGFsIiwic2V0VG90YWwiLCJnZXRGaWx0ZXJQcm9kdWN0cyIsImN1cnJlbnRQYWdlIiwiaXNTdWJzY3JpYmUiLCJwcm9kdWN0QXBpIiwicHJvZHVjdExpc3QiLCJkYXRhIiwiY291bnQiLCJ1c2VFZmZlY3QiLCJ0YWdMaXN0Iiwic2V0VGFnTGlzdCIsImFjdGl2ZUxpc3QiLCJzZXRBY3RpdmVMaXN0Iiwib25DaGVja2VkIiwic3ViIiwiZmluZEluZGV4IiwiY29sb3IiLCJyYW5kb21Db2xvciIsImlzTWF0Y2giLCJzcGxpdCIsImluZGV4T2YiLCJhZGRPcHRpb25Ub1VybCIsIm5ld0FjdGl2ZUxpc3QiLCJtaW5IZWlnaHQiLCJjbG9zYWJsZSIsIm9uQ2xvc2UiLCJuZXdUYWdMaXN0Iiwib25DbG9zZVRhZyIsImRhbmdlciIsImNvbnN0YW50cyIsIkZJTFRFUl9PUFRJT05fTElTVCIsImZpbmQiLCJzdWJGaWx0ZXJzIiwiaSIsInRvU3RyaW5nIiwicmVuZGVyRmlsdGVyT3B0aW9uIiwiY3VycmVudCIsInNob3dTaXplQ2hhbmdlciIsInBhZ2VTaXplIiwicCJdLCJtYXBwaW5ncyI6ImdIQUFBLDZCQU1NQSxHQU5OLE9BTWEsQ0FDWCw4R0FDQSw0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dUIsS0FDbkU4RSxLQUNILE9BQ0U3RyxHQUNBQSxFQUFLSSxLQUFJLFNBQUNDLEVBQU1DLEdBQUssT0FDbkIseUJBQUtFLElBQUtGLEVBQU9KLFVBQVUsK0JBQ3pCLHdCQUFJQSxVQUFVLDhCQUE4QkcsRUFBS3VCLE9BQ2pELDZCQUNHdkIsRUFBS2tJLFdBQVduSSxLQUFJLFNBQUNpSCxFQUFLbUIsR0FDekIsSUFBSWhJLEVBQU1GLEVBQU1tSSxXQUFhRCxFQUFFQyxXQUMvQixPQUNFLGtCQUFDLElBQU0sQ0FDTGpJLElBQUtBLEVBQ0xOLFVBQVMsMkJBQzZDLElBQXBEZ0gsRUFBV0ksV0FBVSxTQUFDdkUsR0FBSyxPQUFLQSxJQUFVdkMsS0FDdEMsR0FDQSxxQkFFTnNCLFFBQVMsa0JBQU1zRixHQUFVQyxFQUFLaEgsRUFBS3VFLE1BQU9wRSxLQUN6QzZHLEVBQUl6RixnQkFvRXNCOEcsQ0FBbUIzRyxLQUl0RCxrQkFBQyxJQUFZLENBQUNmLFNBQVVoQixJQUd2QnNHLEVBQVEsR0FDUCxrQkFBQyxJQUFVLENBQ1RwRyxVQUFVLG1CQUNWb0csTUFBT0EsRUFDUHFDLFFBQVN2QyxFQUNUd0MsaUJBQWlCLEVBQ2pCQyxTQWxOSSxHQW1OSi9GLFNBQVUsU0FBQ2dHLEdBQUMsT0FBS3pDLEVBQVF5QyIsImZpbGUiOiI0LjljOTBlZmMxMzk2OGRmN2Y4NjcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tICdhbnRkJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vaW5kZXguc2Nzcyc7XG5cbi8vIERvIGPhuqMgY2jGsMahbmcgdHLDrG5oIGNo4buJIGPDsyAxIGxpc3QgY2Fyb3VzZWxcbi8vIE7Dqm4gbMawdSB0aOG6s25nIHbDoG8gxJHDonkgxJHhu4MgxJHhu6EgdOG7kW4gY2hpIHBow60gcXVlcnlcbmNvbnN0IGxpc3QgPSBbXG4gICdodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS90dWFuLWNsb3VkaW5hcnkvaW1hZ2UvdXBsb2FkL3YxNjA5NzUyNTYxL3NhbGVPZmYvY2Fyb3VzZWxzL3VubmFtZWRfMl9kMmNjamQud2VicCcsXG4gICdodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS90dWFuLWNsb3VkaW5hcnkvaW1hZ2UvdXBsb2FkL3YxNjA5NzUyNTYwL3NhbGVPZmYvY2Fyb3VzZWxzL3VubmFtZWRfZmxxZm5nLndlYnAnLFxuICAnaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vdHVhbi1jbG91ZGluYXJ5L2ltYWdlL3VwbG9hZC92MTYwOTc1MjU2MC9zYWxlT2ZmL2Nhcm91c2Vscy91bm5hbWVkXzFfdDVsdXY0LndlYnAnLFxuXTtcblxuZnVuY3Rpb24gUHJvZHVjdENhcm91c2VsKCkge1xuICByZXR1cm4gKFxuICAgIDxDYXJvdXNlbCBjbGFzc05hbWU9XCJQcm9kdWN0LUNhcm91c2VsIG0tdGItMjQgYm9yLXJhZC04XCIgYXV0b3BsYXk+XG4gICAgICB7bGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgIDxpbWdcbiAgICAgICAgICBjbGFzc05hbWU9XCJQcm9kdWN0LUNhcm91c2VsLWltZyBib3ItcmFkLThcIlxuICAgICAgICAgIHNyYz17aXRlbX1cbiAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgPC9DYXJvdXNlbD5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdENhcm91c2VsO1xuIiwiaW1wb3J0IHsgQnV0dG9uLCBDb2wsIElucHV0TnVtYmVyLCBSb3csIFNwaW4gfSBmcm9tICdhbnRkJztcclxuaW1wb3J0IHByb2R1Y3ROb3RGb3VuZFVybCBmcm9tICdhc3NldHMvaW1ncy9uby1wcm9kdWN0cy1mb3VuZC5wbmcnO1xyXG5pbXBvcnQgUHJvZHVjdFZpZXcgZnJvbSAnY29tcG9uZW50cy9Qcm9kdWN0Vmlldyc7XHJcbmltcG9ydCBoZWxwZXJzIGZyb20gJ2hlbHBlcnMnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0ICcuL2luZGV4LnNjc3MnO1xyXG5cclxuLy8gZm46IGjDoG0gdMOtbmggdOG7lW5nIGzGsOG7o3QgxJHDoW5oIGdpw6Egc+G6o24gcGjhuqltXHJcbmZ1bmN0aW9uIHN1bVJhdGUocmF0ZXMgPSBbXSkge1xyXG4gIHJldHVybiByYXRlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVzdWx0U2VhcmNoKHByb3BzKSB7XHJcbiAgY29uc3QgeyBpbml0TGlzdCB9ID0gcHJvcHM7XHJcbiAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gdXNlU3RhdGUoWy4uLmluaXRMaXN0XSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcHJpY2UsIHNldFByaWNlXSA9IHVzZVN0YXRlKHsgZnJvbTogMCwgdG86IDAgfSk7XHJcbiAgY29uc3QgW3NvcnRCdG5BY3RpdmUsIHNldFNvcnRCdG5BY3RpdmVdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3Qgc29ydEJ1dHRvbnMgPSBbXHJcbiAgICB7IGtleTogMSwgdGl0bGU6ICdHacOhIGdp4bqjbSBk4bqnbicgfSxcclxuICAgIHsga2V5OiAyLCB0aXRsZTogJ0dpw6EgdMSDbmcgZOG6p24nIH0sXHJcbiAgICB7IGtleTogMywgdGl0bGU6ICdCw6FuIGNo4bqheSBuaOG6pXQnIH0sXHJcbiAgICB7IGtleTogNCwgdGl0bGU6ICfEkMOhbmggZ2nDoSB04buRdCBuaOG6pXQnIH0sXHJcbiAgICB7IGtleTogNSwgdGl0bGU6ICdLaHV54bq/biBtw6NpIHThu5F0IG5o4bqldCcgfSxcclxuICBdO1xyXG5cclxuICAvLyBldmVudDogc+G6r3AgeOG6v3AgZGFuaCBzw6FjaCB0aGVvIGPDoWMgdGnDqnUgY2jDrSwgdHlwZSA9IDAgLT4gYnJlYWtcclxuICBjb25zdCBvblNvcnQgPSAodHlwZSA9IDApID0+IHtcclxuICAgIGlmICh0eXBlKSB7XHJcbiAgICAgIGlmICh0eXBlID09PSBzb3J0QnRuQWN0aXZlKSB7XHJcbiAgICAgICAgLy8gdHLhuqMgduG7gSBkYW5oIHPDoWNoIGJhbiDEkeG6p3VcclxuICAgICAgICBzZXRMaXN0KFsuLi5pbml0TGlzdF0pO1xyXG4gICAgICAgIHNldFNvcnRCdG5BY3RpdmUoMCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGxvYWRpbmdcclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgc2V0U29ydEJ0bkFjdGl2ZSh0eXBlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IG5ld0xpc3QgPSBbXTtcclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgLy8gdGhlbyBnacOhIGdp4bqjbSBk4bqnblxyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIG5ld0xpc3QgPSBsaXN0LnNvcnQoKGEsIGIpID0+IGIucHJpY2UgLSBhLnByaWNlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIHRoZW8gZ2nDoSB0xINuZyBk4bqnblxyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIG5ld0xpc3QgPSBsaXN0LnNvcnQoKGEsIGIpID0+IGEucHJpY2UgLSBiLnByaWNlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIGLDoW4gY2jhuqF5IG5o4bqldFxyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIG5ld0xpc3QgPSBsaXN0LnNvcnQoKGEsIGIpID0+IHN1bVJhdGUoYi5yYXRlKSAtIHN1bVJhdGUoYS5yYXRlKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyDEkcOhbmggZ2nDoSB04buRdCBuaOG6pXRcclxuICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICBuZXdMaXN0ID0gbGlzdC5zb3J0KFxyXG4gICAgICAgICAgICAoYSwgYikgPT4gaGVscGVycy5jYWxTdGFyKGIucmF0ZSkgLSBoZWxwZXJzLmNhbFN0YXIoYS5yYXRlKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyBLaHV54bq/biBtw6NpIHThu5F0IG5o4bqldFxyXG4gICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgIG5ld0xpc3QgPSBsaXN0LnNvcnQoKGEsIGIpID0+IGIuZGlzY291bnQgLSBhLmRpc2NvdW50KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGRlbGF5XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgc2V0TGlzdChuZXdMaXN0KTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBldmVudDogTOG7jWMgdGhlbyBnacOhXHJcbiAgY29uc3Qgb25GaWx0ZXJCeVByaWNlID0gKCkgPT4ge1xyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gcHJpY2U7XHJcbiAgICBsZXQgbmV3TGlzdCA9IGluaXRMaXN0LmZpbHRlcihcclxuICAgICAgKGl0ZW0pID0+IGl0ZW0ucHJpY2UgPj0gZnJvbSAmJiBpdGVtLnByaWNlIDw9IHRvLFxyXG4gICAgKTtcclxuICAgIC8vIGRlbGF5XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgc2V0TGlzdChuZXdMaXN0KTtcclxuICAgIH0sIDIwMCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gZm46IEhp4buDbiB0aOG7iyBz4bqjbiBwaOG6qW1cclxuICBjb25zdCBzaG93UHJvZHVjdHMgPSAobGlzdCkgPT4ge1xyXG4gICAgbGlzdCA9IGxpc3QgPyBsaXN0IDogW107XHJcbiAgICByZXR1cm4gbGlzdC5tYXAoKHByb2R1Y3QsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgYXZ0LCBuYW1lLCBwcmljZSwgZGlzY291bnQsIHN0b2NrLCBfaWQgfSA9IHByb2R1Y3Q7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENvbCBrZXk9e2luZGV4fSBzcGFuPXsyNH0gc209ezEyfSBsZz17OH0geGw9ezZ9IHh4bD17NH0+XHJcbiAgICAgICAgICA8TGluayB0bz17YC9wcm9kdWN0LyR7X2lkfWB9PlxyXG4gICAgICAgICAgICA8UHJvZHVjdFZpZXdcclxuICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxyXG4gICAgICAgICAgICAgIHByaWNlPXtwcmljZX1cclxuICAgICAgICAgICAgICBzdG9jaz17c3RvY2t9XHJcbiAgICAgICAgICAgICAgYXZ0VXJsPXthdnR9XHJcbiAgICAgICAgICAgICAgZGlzY291bnQ9e2Rpc2NvdW50fVxyXG4gICAgICAgICAgICAgIGhlaWdodD17NDAwfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgIDwvQ29sPlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gcmVuZGVyaW5nIC4uLlxyXG4gIHJldHVybiAoXHJcbiAgICA8Um93IGNsYXNzTmFtZT1cIlJlc3VsdC1TZWFyY2ggYm9yLXJhZC04IGJveC1zaGEtaG9tZSBiZy13aGl0ZSBtLXRiLTMyXCI+XHJcbiAgICAgIHsvKiBoZWFkZXIgc29ydCwgc2VhcmNoIGJ1dHRvbiAqL31cclxuICAgICAgPENvbCBzcGFuPXsyNH0gY2xhc3NOYW1lPVwic29ydC13cmFwcGVyIHAtbHItMTZcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvcnQgcC10Yi0xMCBkLWZsZXggYWxpZ24taS1jZW50ZXJcIj5cclxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtLXItOCBmb250LXdlaWdodC03MDBcIj5T4bqvcCB44bq/cCB0aGVvPC9oMz5cclxuICAgICAgICAgIHtzb3J0QnV0dG9ucy5tYXAoKGl0ZW0pID0+IChcclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmtleSA9PT0gc29ydEJ0bkFjdGl2ZSA/ICdzb3J0LWJ0bi1hY3RpdmUnIDogJydcclxuICAgICAgICAgICAgICB9IG0tNCBib3ItcmFkLTRgfVxyXG4gICAgICAgICAgICAgIGtleT17aXRlbS5rZXl9XHJcbiAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNvcnQoaXRlbS5rZXkpfT5cclxuICAgICAgICAgICAgICB7aXRlbS50aXRsZX1cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICAgIHsvKiBzZWFyY2ggcmFuZ2UgcHJpY2UgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm0tbC04XCI+XHJcbiAgICAgICAgICAgIDxJbnB1dE51bWJlclxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvci1yYWQtNFwiXHJcbiAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcclxuICAgICAgICAgICAgICBtaW49ezB9XHJcbiAgICAgICAgICAgICAgbWF4PXsxMDAwMDAwMDAwfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAxMjAgfX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkdpw6EgdGjhuqVwIG5o4bqldFwiXHJcbiAgICAgICAgICAgICAgc3RlcD17MTAwMDB9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0UHJpY2UoeyAuLi5wcmljZSwgZnJvbTogdmFsdWUgfSl9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIHtgIC0gYH1cclxuICAgICAgICAgICAgPElucHV0TnVtYmVyXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yLXJhZC00XCJcclxuICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxyXG4gICAgICAgICAgICAgIG1pbj17cHJpY2UuZnJvbX1cclxuICAgICAgICAgICAgICBtYXg9ezEwMDAwMDAwMDB9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDEyMCB9fVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiR2nDoSBjYW8gbmjhuqV0XCJcclxuICAgICAgICAgICAgICBzdGVwPXsxMDAwMH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBzZXRQcmljZSh7IC4uLnByaWNlLCB0bzogdmFsdWUgfSl9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIHtwcmljZS50byA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtLWwtOCBwcmljZS1zZWFyY2gtYnRuIGJvci1yYWQtNFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkZpbHRlckJ5UHJpY2V9PlxyXG4gICAgICAgICAgICAgICAgTOG7jWNcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0NvbD5cclxuXHJcbiAgICAgIHsvKiByZW5kZXIgbGlzdCAqL31cclxuICAgICAgPENvbCBzcGFuPXsyNH0gY2xhc3NOYW1lPVwiUmVzdWx0LVNlYXJjaC1saXN0IHAtMTZcIj5cclxuICAgICAgICB7IWxpc3QgfHwgbGlzdC5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYW5zLWNlbnRlciBkLWZsZXggZmxleC1kaXJlY3Rpb24tY29sdW1uIHBvcy1yZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibm90LWZvdW5kLXByb2R1Y3QgbS0wLWF1dG9cIlxyXG4gICAgICAgICAgICAgIHNyYz17cHJvZHVjdE5vdEZvdW5kVXJsfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNpemUtMTZweCBtLXQtOCB0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIEtow7RuZyBz4bqjbiBwaOG6qW0gbsOgbyDEkcaw4bujYyB0w6xtIHRo4bqleVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogaXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgPFNwaW5cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhbnMtY2VudGVyXCJcclxuICAgICAgICAgICAgdGlwPVwixJBhbmcgY+G6rXAgbmjhuq10IHPhuqNuIHBo4bqpbSAuLi5cIlxyXG4gICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPFJvdyBndXR0ZXI9e1s4LCAxNl19PntzaG93UHJvZHVjdHMobGlzdCl9PC9Sb3c+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9Db2w+XHJcbiAgICA8L1Jvdz5cclxuICApO1xyXG59XHJcblxyXG5SZXN1bHRTZWFyY2guZGVmYXVsdFByb3BzID0ge1xyXG4gIGluaXRMaXN0OiBbXSxcclxufTtcclxuXHJcblJlc3VsdFNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgaW5pdExpc3Q6IFByb3BUeXBlcy5hcnJheSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlc3VsdFNlYXJjaDtcclxuIiwiZXhwb3J0IGRlZmF1bHQgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlBQUFBQ0FDQVlBQUFERFBtSExBQUFBQVhOU1IwSUFyczRjNlFBQUFFUmxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQTZBQkFBTUFBQUFCQUFFQUFLQUNBQVFBQUFBQkFBQUFnS0FEQUFRQUFBQUJBQUFBZ0FBQUFBQklqZ1IzQUFBWGlVbEVRVlI0QWUyZGU3QmZWWFhIZjdra2dZUWs1QUZKREdsQUlkd1dUSlZYclR6U0RHTFZjWXFWWXBWT3FET2RjVHJUL3FNZEMyMnBPbFljQVR2V21jNzRsek90MEZZYzBVb3QxUEZCZ1VDaHdOaFJtdFNyaUltMUVRSjVrVXRJU0VqNi9meHkxNzM3ZCs0NWUrOXpmdWQxcjJmUG5MdlAyWSsxMWw1cjdiWFczdnVjMzUzVG00VnA3OTY5UzBkR1JrYVBIVHMyZXZ6NDhWRU44VnhkcCtsYW5ITE5VZGxCdFh0SitVdHo1c3c1cUh5L3JoMHEyM0hTU1NkdDF6M1hNNmVkZHRwMjFSL1gvYXhKREg1R0p3bHBrUVIrcFFaeGxhNDNUUWg4WlJXRGt2RDNDdjZUeXAvUTlmajgrZk1mUC9YVVUzOWVCYTY2WU00NEJaQUE1dS9mdi84S3pXNEV6bldweXViV3hiQWtIaW5DVXlxN1Y5ZS9MbHUyN0RFOXY1cHMwK2JuR2FNQUV2cXZ2L3JxcXplSW1lK1R3SmUza2FrUy9tN1JkWi9jengxeUY5L1JjK3ZkUmFzVlFLYjliREYwczJZN2dqOVAxNHhKRWo3eHd0OUpXZjkrK2ZMbFAyMHI0YTFVZ0gzNzlsMGlvZDhzcHIxTERHd2xqYkVDbFJJY1U5dC8wL1VwS2NJanNmM3FhdGNxNXU3WnMrZEtDZnd2TmZqZnJJc0JkZUtSTWp3bzkvREpwVXVYZnF0T3ZENWNyVkFBemZpM2FNWi9UTUlubXY5RlNFOUlFVzVTMFBqdlRRKzJVUVU0ZVBEZzJwZGZmdmx2eElUcm1tWkVRL2p2bGlKOFdJcXdveUg4dlVZVVFETjlyc3o5QnpYb2orbGExTlRnVzRMM2tPaTRYZkhCYlhJUmJFTFZtbXBYQUVYMkc2VUFuOU4xUWEwamJUa3lDZjlwOGVUM1Y2eFk4V2lkcEk3VWhXeGkxdCtxL0lGTytOTzVMcDZjS3lYWUlzdDRpKzduVFc5UlRVa3RGbUQzN3QyL3BNRjlVUU83dkpwaHpDNm80dFYzNTgyYnQzbng0c1gvVS9YSUtsY0FhZlE3TllndlNQZ3JxaDdNTElNL3JnRHhCZ1dJWDZ0eVhKVzVBQWw4Uk1LL1RjUi92Uk4rSVJFdUV0KytxcGpwbzhvcm02aVZBQmJCODBYNEhjcmZXMmpvWGFja0I3NmlWY0w3NVJvNHNpNDFsYTRBRXZwaXpmeXZpc3FyUzZXMEEvYTQzazE0dTNZUjk1YkppbElWNE1DQkF5dVBIRGx5bjVUZzRqS0o3R0NkNElBc3dQY1ZITDVWd2VHdXNuaFNtZ0xJNUorbDdWejJ1TmVYUlZ3SEo1VURZd3NXTEhqTHdvVUwveSsxTm1kaEtVRWdNMSt6L3R2QzNRay9wd0FLTkI4OWRPalFGbTJqbjFtZzc3UXVReXNBUG4vQzdQUGVYWmRxNElCNC9sb3B3VGRrZFpjT2kyNG9CUkFoOHduNGxIYytmMWhKNU93dm5yOWUxejI2VHM3WmRhQjVZUVVRNGhHV2VvTFdSZnNETEszdlFUTFlxQW40ajhpaUtOYkNIU1g4VHdseHQ4NHZ5dm55K3YwT3NpZ0tydEFxUUZySDlpNDdmSVg2RnlXMjY1Zk9BUzBQait0NnQ3YU43MGx2a1YyYVc0QVRCenYvSmVGM2UvdlpmSzI5Umdxd1QyY0hGMnVqNkprOHlITzVBQWw5cmhCeHF0Y0pQdytYYTJncm1TelZQc3lYbGVjS0NuTXBnSHdOWjlYZGtXNE5BaTJDUXJLNVNPNzUxang5bzEyQWhNK2JQTHpNRWQwbkR5RmQyM0k0SUF0OVRHY0dsK3ZEbE1kaUlFWlpBQWw5cmk1ZTQrcUVIOFBWQnR0SVJpUDZndXJ6eXVmSGtCR2xBSnI5SHhMQVdmRU8zOUdqUjN1dnZQSks3L0Rod3ozdHB2VXY3aW1qYmpZa1pDVlg4QmN4WXduTzZJbFh0M2sxYWNhOXZZdFE3ZEoyZGJTQTU4NmQyOU9wVzA5Zi8wNWVNY3hzVXh1NWdpTWF4NFlsUzVhTStlZ0tmbFdyOS9ZL081T0V6MnlXMHZaRWQwOHp3VGYyekRvc0FSY3dTR0ptVHlkd1BaM0E5VTQrT1ZlUW5ZbWo2Z3FOZlo2VW5nMmlhMzI0dkJhQUwzYmtUempsYTNYUzhxY3Y5UEh4OFo3b3JaUldCVmk5UllzVzlaVkI2KzVLY1pVRS9ETGZxK1plQlpBZmVVaWExTnJQdFpqaENGM0gwWVZuZTFFbVl4WDBZa1pmR2JodmF4SnREK3Qxc2t3WlpsTE9zazh6NjhHMkRnenpyTjhNcUh6R2g4YVBSZENTcSs4aVFtMmJxcGNTWENNbCtIb2Eva3diSnVIZm5OYWg2VExNL1FzdnZOQ1RkV3BjK1BBQ2x3TXQwQVJ0YlV5eWxKa3JnbFFMd1BmNUd0Z1RiUnNNQVo0c1V5c0VuOFlicklFT1pGb1pLR3BGOE9hMHphRlVDOURHMlkrdlo1YVZFZVFoS0tKNWZEZ1hFVDdMdm1GOU9iUkJJN1MyTFdsVjh5ZHBORTJ6QUpwaFo4dGtQS05yV2wwYWdEcks4UFZGbWNxYW5xZ2RvU05reXhGOFdtTDV4eklTU3dQT29tWWRuTVFHYlVsU2JwWkhyMU1zOEZPWHByUjlnTTF0RXI3Y1VlK2xsL0o5RDhIeURGUE14ZXhHa0d3SVdkSlB1OW50dE53VWh0bU1rdENQZ0JPbHlLTU00QlFmZXpxZW5ZYWppUUxSY3BLVTRJK0YreVlYLzdSWnJ2UCtINnBCSzk3dXpUdnpNZUVJVit2ZW5uYkErdU5rQjVCbG9pVTJjMDQ1NVJSN1RNMlRDa01qaEE4Y2xCSEJ4cWFXV1lLZnlRS3NFNThtQnpBUUEvQlRiQnBZSzRTUEVMaGlFNEpmdFdwVmY4YkJkQktDY3EySCtYNGZUQlRHdFJiV0ZxdUNTUWVIejRKWWU4dnpqc1A2VlpTdmxVWGQ2TUllVUFDWnZSdmN5cWJ1aWZhWi9URUp3VERqTWJVSUdPSFlEaDJtMnpYYjFHRWxzbEpTWWRMYWdRTmM0RFE4YWUzY01zYkNtTnFRTk1iclhUb21GVUFWSEIrK3o2MXM0aDZCRVlERkpQejE2YWVmUG1uUzdRQ0h2dmh3VHZzc1lmWnA3MHUwZHhYRzF4WjRaNXh4UmhDbXdXQk1zYkN0VDBYNWRaTDFQSU05eVJGcDZSV3FhUHdYT0dNM2VGakd5WjhOekVMOE8wbmpHREQ5ekZTQ1FWOUNZZXp3eDlmT3JVT2hVQUpvRHMxdzROTU9oYTBwYlpPMStvend2dWppZ3pkU1JoalZON0dUQ2lEdHZNcHQyTVE5QWdneEVyb1FmcEtSQ0JqelRBSUd5emxMS0liUDlOUE9qUldzWDB5T2NrRUw2LzhRN2RRenhwQXl4dUFOdFpFMXZEWjBGQXlNU1JlZyswWVZBTTJNOGZ2TU9tYStteEM4UmZhWVdYY211MjdCN2VQZUp4WEdyWXU5aDZhUWl3RVdZMlNzVlNmeFpHcnA0MEhXajRoRUVEKzV6aytoVDFvRVQ1OUtxbGhpdmZqaWdMV2Foc2RtRzBKMUUwcytZMzV5Q1VmQWxoV3MyWmsvZlJBS2lwU0U3ZUlKM2JPQ2lEa1RnTjZzamFnUWpoejEvRmoxeDNWTk1sVXZ1RHl2UUhpbkM2T3ZBUEpON3hBRDduTXI2cnhuMWo3NzdMUEJtVUhrYlRQZDZNTWRFTjJUWXRiOENCcGZqS0N5bG52QVpDbkpHMEY1RTRHazlsSzgzWEJIcTFldnpsUk1iK2NoS29XWDA2ck5zbFpmTkREbUFobzEvK3l5SVJoZlN0dkFnWkhtVCtudituRm1NNEowRXpOOWJHeXN0M1BuemxUaDA5WmN5UFBQUDk5akZ6SkVsd3VmZXhUVUZESlpaOC9BWk14MUorRWRFYzhHWkcwbS8wMTFFK1BpUXpDK2hLQnRaODl0QjZQTnZPUDNFWjRsNnVobkNZYnYyTEZqb0kzVkFjUHRhK1VvRkc0Q3krUENzdnFzSFBNZVVtckdiQnRXV1hDUzVhS0JBZTdReFd3NVN3STlFZldlYU1oKytZQjVQMUU4OVZmOW41T3IvTXhVU2E5bkN2RExibUdkOXdSZ0xKRjhDV0V5bzkza0JuZjA5NjM1cWQrK2ZmdUFrRzJtWXVaUkFHWWxMb1E0eEkzbXVVZFllWHcydEVLelQ3R2hDZGhKSytXT01YSFAvek82WE9jYjM2TmNkSTVLT1I4VjNjdFUvcERLMzZuY1A1TVNBSGtja1psYkppQm5wTlRWVWhReWhRZ25qZmw1MXZ6NGZGZkpiQ2NQSlRBTEl1YjFmVDVMdXFTMUtmTEtHVFFiN0N4R2hzYnU5aE45RDV2d0tSZU5ZNUxiZDdoWDNSZDA1UlkrZmZFSm85dzBsZHdsV3hvTkNEckp5THhyZmpjb1k4WW5CWnpFaS9EY0FCRHI0RnFZWlB1MFoyZzJKVTJycHl3MGRyZWZhTGhRczM3eW0wdzlMNUhzZm8wMnVyL2FiWnZuZnE1OFgyTUtRQlFPYzMzSmdqeHJnM20xbFlBRmJGYm51Z1VyQTc2N0tjUU1kNjJCdFV2bTRIQlhDUzZNWk51c1oyajN1UUZvQTRlcmJGbXdWTTR2c0cyVk12K0g3by9McW5Gd3Q0YjJnbk85bnM5WHprbHVkSklDM2Nrblg0MHFnSTlhWmxHU09XNXdsd3kwcUVzbURiSzNkdTNhdm04bjZPSVp4b2VTN1N0WXU3UWcwZXF5Y21obkRMNitPUlFBTkt0MHZUc05uOGIwQnBWejVVay9ZUmw0VHA0ZVpiWjFaMWdhWEp2cFZrZkFaSUloWUhQN3A3a0s2NGZQWDdkdVhUL2dpaEUrL1pKV3d2QWF6Tmc4T1laa1AzY015Ym9hbnRlTWlDR052YktDRUgzSlpSNHoxOXdCUWd5dCtaTnd3ZVZHOThuNjVIUFM1eGZkSVhUSGtNVEJjNGdIYVgzS0toTWYxeEFFcHI4Y1Z4WVdENXlRWDNYTnZ6dkRRMnYrSk1xa3dpVHJrOCs0RmxkWjBtS0xaSitzWjNjTWFXMUNQRWpyVTJMWmFseEFJeDk5eGd6YzF2NEl3TmJMbUdaM2RqTERRdWFaOWo0LzdESVV5OExadlp0Q3F3YTNiZkxleHBBc2Q1OWplT0cyTCt1ZXljOUdVQ01XSUNRUWwzRzJuRXJPWkFJc2N3dFpURUZoWXBaYjBNUFdiN0l0d2crWjhTemNWczVZa2pHRjFaR0hlT0cyTGZuK2xNWVVBR0g2RXNJbElXQlRCc3l5TzF0UURHSURYM0pqaGF4MndHWFdKNFhFTzRCNXQydlRjRENXSkd5M1hZZ1hidHN5NzRWM1Fhc1ZBTUhiN0dPV3VMTXp4aThuRlNhTmVVVGhiQlM1UXNDbDhFcDV5SCtud1Vzck0yVk9xNlBNeFozVnBvcHlUWjYrQmFnQ2Rpa3c4Njc1WGFRb1RHaXJGY2F6VGV3S0FLdkNzakZrV1Z4Y00vaitHSFkyNnMyUnNnY1pZakJDc2VBdXo1cmY2TVJhdUlLMWNqZEhRVnpUakx0aDVvZG9jMkhFM0lkOGZObjRZbWlhYUhNQUJTaDBpSkFEU1dyVDBLQ05hUWpSOWVPNEJWc1JwQUpXWWV5YTMxM3FBV3VZYUQrTEZzcHRMRmx0UXJ6STZsZENlVjhCR3JFQUliOW9NNU9aN0RMUWRRdHBERUJoUXFiZitoa09ucUhITEk3Vmw1VzdlTkpnaG5pUjFxZWtzdVlVSU1Sc0JNa01MYkxtRHpIY21PZlNVSFNuejJCbDVURzB1SFJrd2Ftby9BQ0hRWTI0QUFiRXdOMWxYWEtRTE0wc0VtZVdsTFhtTnp3czg0Q0xzcFd4M0RPNGJoN2E2MjlRK0pCNWdOLys1VzFnbCtiYTdwbDFQZ1hBOTVzQ2xMWG1kd2VIOEt2K2hOdTFZQzV1dTYvSzhoajhRTDZmSVBEcFFLUEtxazI0V1FpTWVXV3QrYlB3VkZsdVk4akNFZUpCVnIrU3lwL21NTWo3UTRJbElVb0ZFeG84d1I4bU5PMmMzd1ZJdTlqQXorMVg5VDIwdXdGc0dyNFFEOUw2bEZXRzdHVUZSM0s5UlZJV2N1QXcrTkFTQ0JlQnFmYWxtRFYvV245Y0gzMTVhNmVLWTFsZyt4SmpiMUlCeE5jeE9OdVlBc0NjVUdESHAxUytTRHAyelo4VUJNTG4zWDkyQXNHeGE5Y3U3K3RieWY2aDV4aXJGQnA3Q01ldzlhSnhiRVJCMEI1cDRndkRBaXZhMzA3NnN2ckRTSVNUbGhCaVVkTlB2K1NzRDMyYWxrWkRWaGx2RW9mTWYyanNXYkJMS3QrbFhjOTlIQWFSUHE4cjk2dGhVcHhSQ2VGWCt4QUsvbUZYTDNSY3lpemxaYzVreEV5QTViTU9QcExTVmg4b0ZQRHM5TkhYMzFjSERIZjNNcTF0ekk1bVdyK3l5aVM3ZnV6WFZ3QjlLL2JuUlFGTE9QOGt4ZzM4NmtSZVdLekJmVjhHbXhVNDg4eXBmNVlKazBNKzFrZEhVcGxvUzZ3eHJQQ0JFL01kUVZYN0R1Q1BUUDlKTzM5MEZRRkptalQwajBuSHJQSFpGSUt4bGtJenpOcGw1ZUIwZmJERzBUOEZ6R29mVzQ1VkN0RUdyb2JOUDhPNW56Lyt0eWxvNFVtYStYeFdmcS95alo1bVVWVUlOK1NEbVozbm5IUENVNFdZSElWVWpZZ0RzREJZaE5CcUl3UVR0MEpnR2ZMOUhEcWxmZTBVZ2w5V3ZSVHdxUHcvbjVTTkR5aUFYb3g0andwdmxrRDl2NmN5UlFrMmVmckwrRlAxMFhmQzJYdnV1ZWVDUHAxbEUvRUFzNmhOQ2FFai9MVFl3cVVUSmVhWHhwcWtYN2dmbGR1L0RMb3NDT3pUcUlyYkpZaXordzgxLzRFaGJNc1M4UG1TdmNHREVyUXBRWGRJK05ETEdKc1UvZ1RQK3VhZis0RVlRSVFON2M4bkVCVEs4TW1oczM0QWMwb1k4MHNjaFlqSTJZbVpIL1A3UUlCbGJHN2NrUk5WYWMzbDZpWVZZTUNPYXZiUGtTOWVyd2k3N3dJME9ENGIrMXRkSzB2REhnQUVRMW4zRStXSEVpZHAvRFpQV2tRZjZsdEdQZkZEN016SDlLOWN1WExvT0dOWXVqWEo5OGo5djBiNUs4Qkt1Z0NPQmQyZHdlOHB5SHVOaE1ML0Rhb2xFWWlKd1A2c0NpSEU1REw3YUc4dmo0YjZsRlZQdE0vS0JJV05TWnhuMEhiWVFETUdWNkROWFNaODJnMjRnSXlPdFg4M2dLbU1QYWFGcWJ6Vnl6djlNVllqWTR6UnhlQUFGemp6Q0I4RW9YY0Rvb2tZb3FFczBaMXU5d0VYUUlVR2Q3VUd1WXg3YWV1b0Jza20wWWxmWUtTd3hzVG1rTy96NmlRcDB1eit5V0hNanpNays0YWVFVFpMVlphZnJGaGlFNWJKUGZEaHVTbVhKWnAvcUorN0dmZ2FmTUFGTUNnTmRKT3kvcitMaWRWdytsV1JzQUl3TzNiTlQxc1VobjErMitoeG1WK0VSbVl0TzQ3QXpNc1BMRmtTdjcwZjBJUVNhRUlQekg3NE1jMENhS0JyUmVSUHhNeHB5bEdFZ1dYMHlXc0pYSno0WEdhZHpVU0NNVi9DeENOMEJNV1ZWK2dHMi9EWmN6SkhBV2hEUXJsUWxDcGZENU4xUEs3cmRZcVh0dmVSVHZ5WnBnQ1V5Nzk5V2RsMUUyMWFrVEd6ZmVjRmVZaEVDVkFNTGhKQzVpb3Joc0J5TWZ0UkpKOEM0YktveDdWQUUzc2JWU21CY0gxTks2WnBQeTZScWdDS2JuOURoRDNRNTA2TC9yRCtKL0l1UzFCbER3MGhzaUpCK0phZ09TdjRZeHl1ZTZ0U0NRVDdVbjN4OUtUUlpYbXFBbEFwSzhCcFVmOUhpS3h4RzNKbURHdHZHTnVtaE5EWmt6Q3I0dEtHQWlUcFRRcmYybGVrQk45VThQYzJ3K0htbWN0QUVmSVJ0MkZiN21Fd3BoSm13NnltRXpSQUN6U2xDUi82a3Y0OVMvaTBwWTY5alpodFpkckhKSm4vVzdMYVpWb0FPbWltZGY4Nk5vTnorRytXbTV6cmN4OUt0a0x4Q2QrRlVaWWxFRzFicEtBYlhkanV2WmR5K2R1Tk1ya1B1aDNhZUk5YklKSW1VSVRCVlNZRWc5QlpabWJOK0N6OEhIY1Q4TVdtTXBSQU1LNlc3Ky8vb0dRYVhxOEMwRUZXNEQ1cDd6dlNPcmV4REYrTE1yQjJaOWFWa1pqaEhPSWdkRGZBeXdNYm1naGc4NllobGVCdStmNzMrSEFHRlVBN2crZG9WdjIzZ1BqLzE1b1BTME4xQkY5MmNYQVQ2MWRaaXJGT3gzZmJOZXdRN055aWlJVXFxQVRqVXRwZmtkTCt6RWQ3VUFIb0xNMzlpTXpzWC9rQXpaUTZCSUhMd0RxWWhXQ0djMkhTcTFxSHc1K2FsZUJQTmZ2L09pU1hLQVVRbzA2V0svaStnSjBYQXRqVit6bFFoeEpJbWJkcVArS055by82cVlrN0RXUjJITmJzK0VQbDVUalZFRld6dUI0THc1SVJzNTQzNFQ1Q1MwUmtwT3VQZEFXRkQvN01mWUFrY2RLb0IxVDI2V1I1OTV5ZkF4VXJ3ZTJTMVVPeFZFVzVBQU1tVnpCUHJvQmZxNzdFeXJxOE9BZktkZ2VhOVk5SStKdGlaeitVUjFzQUdndndFV2t2SDRHTTg5eWw0VGhRcGlXUWJIWnJnbDZmUi9oUW4wc0I2S0NUcnFlRjVBUGNkMmw0RHBTaEJJb05pTTNlcjZqL2YvTlNsRnNCUUtDdHhidVVmU0l2c3E1OU9nZUdWUUo5anpDdWY3dm52c3VaamlpbE5GY000UGFYdVptai9ZRzdsUCt1Vzk3ZEYrZkFNREdCc082VUltMDYvL3p6ZjVTSGdzSUtBQklKZjRHQ3dnZDFlMmtlcEYzYmJBN1VyUVNGWElDUnIxamdaVzJWOHUvS3RscFpsdy9IZ1dIY2dUQ3ZrUUk5c0czYnR2V3hWQXhsQVF5SlR1Rlc2UkFHU3pEd3hxblZkM2wrRHRSbENVcFJBSWFuVjV2V29BUnlDK2ZtSDI3WEk0MERkU2pCVUM3QUpWcGZ2dXlVOEs5UzJRL2M4dTYrT0FmcWNBZWxXUUFicG82UGwrbTA3VitrREZkWVdaY1B4d0VzZ1paNmg4WFhxYmRONDBFK3BYT0hTeTY0NElMK3Q0REpicVZaQUFPc3QwLzJhanZ5clhxKzI4cTZmRGdPNk4yRUwrbEZsSXNFeGZ2UG9UT3diTkJrdkRHakx2OU9ZQllndDF5cmdrUGFMSHF2OHU3d3lHVk16bnZ4ajVNOURuZCtiLzM2OWR0WTV3dEViaVdRQWx5VGhicDBDMkNJUlBneEtjR05Pa2ErVnZmN3Jiekw0emdnbnUxV3k5OFNEMitDbC9SaWs2ZUlFa2dCWHArRnRUSUZNSVRTM24rV0VseWtRWHpYeXJyY3p3SHg2aEVKN1VJSi85NWt5NEpLOFBNa0hIdXVYQUZBcExqZ0dTbkNaYnI5ckdtekVkRGxVeHdRYnpENXQ0bFhtM3dIT3dXVTRMRXBMSU4zdFNnQUtEV3d3eHJVaDZUWnJBNjJEWkxSUFlrL1czVnQwcXovTStYQnQzbHlLTUZCd2Z0b0ZvZHJVd0FqUUVyQUwxUmRxT2RQaUxBalZ2NExuSStMRHpkcTFyOVIxME41K09Bb3dWTVovUTVxQ2ZpQkRSczIvRGlqZnZybjRWa05xeWpYaHhMbjZYWHRXd1Y3MmxlclZlQnJJY3l2Nk5YdEQ0WmUzUTdSdlhYcjF2bXlyRGZxdWtZWEFSOCsvekZtdmsvNHdDMTlJd2lnZVpNK1JMMU14SDVheEJNbnpQcWtzVzVSWVB4eDN4YzdkVEdoRlFwZ2c5WDdCV2p3VGJOWUViNHA0ZDhpRjdqRnh0eDAzaW9GTUdiSUlyeFo5eDhXczM1YnlsQjduR0owbEpGckRMeXVkWTltL0NjMTQ1OHNBMmFaTUZxcEFEWkFQa3ZUL3ZjZjZIbXpGR0dkbGMrUS9FY1MraDJpOVI4VTNHMXZLODJ0VmdCam1vUS9SOHJBcjViY29ESit1bWFKMWJVcDEyem5kMjd2VXVSOXAxNmV6Vng3dDRybU5oRVRRNHVVWVo2VTRYTGxiMVA3dCt0NkF3b1MwN2ZzTmhJNDYvVW5kTjJ2Mlg2L2hQNnd5bEpQM2NyR1hSYThSaGhYRnZIQTBkdElxL1VpeXBWaS9NVlNoSXVWWDZSOGVaazRIRmk3Qkg5TXoveDh6djB5N1Z2MFBLTy9rWmp4Q3VBSVovSldxNG16NVM1R1ZiQk9BanFMZk9KYW9YeWhGSVFmdmx5b09uSU9XdmpWQnJ2R1ZYOUFkZnRVOW1QbC9HdTFId2plbUFSTzJheEsvdzhQaVVUc0lubTdKZ0FBQUFCSlJVNUVya0pnZ2c9PVwiIiwiaW1wb3J0IHsgQnV0dG9uLCBQYWdpbmF0aW9uLCBTcGluLCBUYWcgfSBmcm9tICdhbnRkJztcbmltcG9ydCBwcm9kdWN0QXBpIGZyb20gJ2FwaXMvcHJvZHVjdEFwaSc7XG5pbXBvcnQgUmVzdWx0U2VhcmNoIGZyb20gJ2NvbXBvbmVudHMvUmVzdWx0U2VhcmNoJztcbmltcG9ydCBjb25zdGFudHMgZnJvbSAnY29uc3RhbnRzL2luZGV4JztcbmltcG9ydCBoZWxwZXJzIGZyb20gJ2hlbHBlcnMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFByb2R1Y3RDYXJvdXNlbCBmcm9tICcuLi9Qcm9kdWN0Q2Fyb3VzZWwnO1xuaW1wb3J0ICcuL2luZGV4LnNjc3MnO1xuXG4vLyBmbjogdGjDqm0gb3B0aW9uIHbDoG8gdXJsXG5mdW5jdGlvbiBhZGRPcHRpb25Ub1VybCh1cmwsIGtleSA9ICcnLCB2YWx1ZSA9ICcnKSB7XG4gIGxldCByZXN1bHQgPSB1cmw7XG5cbiAgbGV0IGlzQ2hhbmdlZCA9IGZhbHNlLFxuICAgIGlzTWF0Y2ggPSBmYWxzZTtcbiAgLy8gdMOhY2ggdXJsIMSR4buDIHBow6JuIHTDrWNoXG4gIGxldCBxdWVyeUxpc3QgPSBoZWxwZXJzLnF1ZXJ5U3RyaW5nKHVybCk7XG4gIHF1ZXJ5TGlzdC5mb3JFYWNoKChxdWVyeSkgPT4ge1xuICAgIGxldCBrID0gT2JqZWN0LmtleXMocXVlcnkpWzBdO1xuICAgIGlmIChrID09PSBrZXkpIHtcbiAgICAgIGlzTWF0Y2ggPSB0cnVlO1xuICAgICAgY29uc3QgdmFsdWVMaXN0ID0gcXVlcnlba10uc3BsaXQoJzsnKTtcbiAgICAgIGlmICh2YWx1ZUxpc3QuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgIHF1ZXJ5W2tdID0gcXVlcnlba10gKyAnOycgKyB2YWx1ZTtcbiAgICAgICAgaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIG7DqnUgY2jGsGEgdOG7k24gdOG6oWkga2V5LCB2YWx1ZSB0aMOsIHRow6ptIG7DsyB2w6BvXG4gIGlmICghaXNNYXRjaCkge1xuICAgIHJlc3VsdCArPSBgJiR7a2V5fT0ke3ZhbHVlfWA7XG4gIH1cblxuICAvLyBqb2luIGzhuqFpXG4gIGlmIChpc0NoYW5nZWQpIHtcbiAgICByZXN1bHQgPSAnPyc7XG4gICAgcXVlcnlMaXN0LmZvckVhY2goKHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCBrID0gT2JqZWN0LmtleXMocXVlcnkpWzBdO1xuICAgICAgcmVzdWx0ICs9IGAke2t9PSR7cXVlcnlba119JmA7XG4gICAgfSk7XG4gICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sZW5ndGggLSAxKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBmbjogeG/DoSBvcHRpb24gdHJvbmcgdXJsXG5mdW5jdGlvbiByZW1vdmVPcHRpb25Ub1VybCh1cmwsIGtleSA9ICcnLCB2YWx1ZSA9ICcnKSB7XG4gIGxldCByZXN1bHQgPSB1cmw7XG5cbiAgbGV0IGlzQ2hhbmdlZCA9IGZhbHNlO1xuICAvLyB0w6FjaCB1cmwgxJHhu4MgcGjDom4gdMOtY2hcbiAgbGV0IHF1ZXJ5TGlzdCA9IGhlbHBlcnMucXVlcnlTdHJpbmcodXJsKTtcblxuICBxdWVyeUxpc3QuZm9yRWFjaCgocXVlcnkpID0+IHtcbiAgICBsZXQgayA9IE9iamVjdC5rZXlzKHF1ZXJ5KVswXTtcbiAgICBpZiAoayA9PT0ga2V5KSB7XG4gICAgICBxdWVyeVtrXSA9IHF1ZXJ5W2tdLnJlcGxhY2UoXG4gICAgICAgIG5ldyBSZWdFeHAoYCgke3ZhbHVlfSk7P3w7Pygke3ZhbHVlfSlgLCAnZ2knKSxcbiAgICAgICAgJycsXG4gICAgICApO1xuICAgICAgaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGpvaW4gbOG6oWlcbiAgaWYgKGlzQ2hhbmdlZCkge1xuICAgIHJlc3VsdCA9ICc/JztcbiAgICBxdWVyeUxpc3QuZm9yRWFjaCgocXVlcnkpID0+IHtcbiAgICAgIGNvbnN0IGsgPSBPYmplY3Qua2V5cyhxdWVyeSlbMF07XG4gICAgICByZXN1bHQgKz0gYCR7a309JHtxdWVyeVtrXX0mYDtcbiAgICB9KTtcbiAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgcmVzdWx0Lmxlbmd0aCAtIDEpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vZm46IHBow6JuIHTDrWNoIG3huqNuZyBjw6FjIGPDonUgcXVlcnlcbmZ1bmN0aW9uIGFuYWx5c2lzUXVlcnlMaXN0KHF1ZXJ5TGlzdCA9IFtdKSB7XG4gIGNvbnN0IHF1ZXJ5ID0geyBwT3B0aW9uOiBuZXcgT2JqZWN0KCksIGRPcHRpb246IG5ldyBPYmplY3QoKSB9O1xuICBxdWVyeUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKGl0ZW0pWzBdO1xuICAgIGNvbnN0IHZhbHVlID0gaXRlbVtrZXldO1xuICAgIGNvbnN0IHsgaXNQcm9kdWN0QXR0ciwgcmVzdWx0IH0gPSBoZWxwZXJzLmFuYWx5c2lzUXVlcnkoa2V5LCB2YWx1ZSk7XG4gICAgaWYgKGlzUHJvZHVjdEF0dHIpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24ocXVlcnkucE9wdGlvbiwgcmVzdWx0KTtcbiAgICB9IGVsc2UgT2JqZWN0LmFzc2lnbihxdWVyeS5kT3B0aW9uLCByZXN1bHQpO1xuICB9KTtcbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vLyBmbjogbWFpblxuZnVuY3Rpb24gRmlsdGVyUmVzdWx0KCkge1xuICAvLyBnZXQgcXVlcnkgcGFyYW1cbiAgbGV0IHMgPSBkZWNvZGVVUkkodXNlTG9jYXRpb24oKS5zZWFyY2gpO1xuXG4gIC8vIGzGsHUgc3RhdGUgxJHhu4MgdGhheSDEkeG7lWkga2hpIG5o4bqlbiBjaOG7jW4gY8OhYyBvcHRpb25zIG3DoCBraMO0bmcgY+G6p24gcmVkaXJlY3RcbiAgY29uc3QgW3VybCwgc2V0VXJsXSA9IHVzZVN0YXRlKHMpO1xuXG4gIC8vIHBow6JuIHTDrWNoIHVybFxuICBjb25zdCBzZWFyY2ggPSBoZWxwZXJzLnJlcGxhY2VNb25nb0tleXdvcmQodXJsKTtcbiAgY29uc3QgcXVlcnlTdHJMaXN0ID0gaGVscGVycy5xdWVyeVN0cmluZyhzZWFyY2gpO1xuICBsZXQgdHlwZSA9IDA7XG4gIGNvbnN0IHF1ZXJ5TGlzdCA9IHF1ZXJ5U3RyTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAvLyAgdHlwZVxuICAgIGlmIChPYmplY3Qua2V5cyhpdGVtKVswXSA9PT0gJ3QnKSB7XG4gICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoaXRlbS50KSkpIHR5cGUgPSAwO1xuICAgICAgZWxzZSB0eXBlID0gcGFyc2VJbnQoaXRlbS50KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICBjb25zdCB7IGRPcHRpb24sIHBPcHRpb24gfSA9IGFuYWx5c2lzUXVlcnlMaXN0KHF1ZXJ5TGlzdCk7XG4gIC8vIHN0YXRlIHBhZ2luYXRpb25cbiAgY29uc3QgW2xpc3QsIHNldExpc3RdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3RvdGFsLCBzZXRUb3RhbF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcGVyUGFnZSA9IDEyO1xuXG4gIC8vIGZuOiBmaWx0ZXIgZnVuY3Rpb25cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsdGVyUHJvZHVjdHMoY3VycmVudFBhZ2UsIGlzU3Vic2NyaWJlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RMaXN0ID0gYXdhaXQgcHJvZHVjdEFwaS5nZXRGaWx0ZXJQcm9kdWN0cyhcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcE9wdGlvbixcbiAgICAgICAgZE9wdGlvbixcbiAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgIHBlclBhZ2UsXG4gICAgICApO1xuICAgICAgaWYgKHByb2R1Y3RMaXN0ICYmIGlzU3Vic2NyaWJlKSB7XG4gICAgICAgIGNvbnN0IHsgY291bnQsIGxpc3QgfSA9IHByb2R1Y3RMaXN0LmRhdGE7XG4gICAgICAgIHNldFRvdGFsKGNvdW50KTtcbiAgICAgICAgc2V0TGlzdChsaXN0KTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0VG90YWwoMCk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0TGlzdChbXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXZlbnQ6IEzhuqV5IGThu68gbGnhu4d1IHTDrG0ga2nhur9tXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzU3Vic2NyaWJlID0gdHJ1ZTtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgaWYgKHBhZ2UgIT09IDEpIHNldFBhZ2UoMSk7XG4gICAgZ2V0RmlsdGVyUHJvZHVjdHMoMSwgaXNTdWJzY3JpYmUpO1xuXG4gICAgLy8gY2xlYW4gdXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNTdWJzY3JpYmUgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbdXJsXSk7XG5cbiAgLy8gZXZlbnQ6IEzhuqV5IGThu68gbGnhu4d1IHTDrG0ga2nhur9tIGtoaSDEkeG7lWkgdHJhbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNTdWJzY3JpYmUgPSB0cnVlO1xuICAgIGdldEZpbHRlclByb2R1Y3RzKHBhZ2UsIGlzU3Vic2NyaWJlKTtcbiAgICAvLyBjbGVhbiB1cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc1N1YnNjcmliZSA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtwYWdlXSk7XG5cbiAgLy8gIE5vdGU6IEZJTFRFUiBPUFRJT05cbiAgY29uc3QgW3RhZ0xpc3QsIHNldFRhZ0xpc3RdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWN0aXZlTGlzdCwgc2V0QWN0aXZlTGlzdF0gPSB1c2VTdGF0ZShbXSk7XG5cbiAgLy8gZXZlbnQ6IENo4buNbiAxIGJ0biB0cm9uZyBi4buZIGzhu41jXG4gIGNvbnN0IG9uQ2hlY2tlZCA9IChzdWIsIHF1ZXJ5LCBrZXkpID0+IHtcbiAgICBjb25zdCB7IHRpdGxlLCB0byB9ID0gc3ViO1xuICAgIGNvbnN0IGluZGV4ID0gYWN0aXZlTGlzdC5maW5kSW5kZXgoKHZhbHVlKSA9PiB2YWx1ZSA9PT0ga2V5KTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAvLyB0aMOqbSAxIGtleSBt4bubaVxuICAgICAgc2V0QWN0aXZlTGlzdChbLi4uYWN0aXZlTGlzdCwga2V5XSk7XG4gICAgICAvLyB0aMOqbSB0YWcgbeG7m2lcbiAgICAgIHNldFRhZ0xpc3QoW1xuICAgICAgICAuLi50YWdMaXN0LFxuICAgICAgICB7IGtleSwgcXVlcnksIHRvLCB0aXRsZSwgY29sb3I6IGhlbHBlcnMucmFuZG9tQ29sb3IoKSB9LFxuICAgICAgXSk7XG4gICAgICAvLyB0aGF5IMSR4buVaSB1cmxcbiAgICAgIHNldFVybChhZGRPcHRpb25Ub1VybCh1cmwsIHF1ZXJ5LnNsaWNlKDAsIHF1ZXJ5Lmxlbmd0aCAtIDEpLCB0bykpO1xuICAgIH1cbiAgICAvLyB4b8OhIGtleSBoaeG7h24gdOG6oWkgxJHDoyBjaOG7jW5cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IG5ld0FjdGl2ZUxpc3QgPSBbXG4gICAgICAgIC4uLmFjdGl2ZUxpc3Quc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAuLi5hY3RpdmVMaXN0LnNsaWNlKGluZGV4ICsgMSwgYWN0aXZlTGlzdC5sZW5ndGgpLFxuICAgICAgXTtcbiAgICAgIHNldEFjdGl2ZUxpc3QoWy4uLm5ld0FjdGl2ZUxpc3RdKTtcbiAgICAgIHNldFRhZ0xpc3QoW1xuICAgICAgICAuLi50YWdMaXN0LnNsaWNlKDAsIGluZGV4KSxcbiAgICAgICAgLi4udGFnTGlzdC5zbGljZShpbmRleCArIDEsIHRhZ0xpc3QubGVuZ3RoKSxcbiAgICAgIF0pO1xuICAgICAgaWYgKG5ld0FjdGl2ZUxpc3QubGVuZ3RoID09PSAwKSBzZXRVcmwocyk7XG4gICAgICBlbHNlIHNldFVybChyZW1vdmVPcHRpb25Ub1VybCh1cmwsIHF1ZXJ5LnNsaWNlKDAsIHF1ZXJ5Lmxlbmd0aCAtIDEpLCB0bykpO1xuICAgIH1cbiAgfTtcblxuICAvLyBldmVudDogxJHDs25nIDEgdGFnXG4gIGNvbnN0IG9uQ2xvc2VUYWcgPSAoa2V5LCBxdWVyeSwgdG8pID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHRhZ0xpc3QuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmtleSA9PT0ga2V5KTtcbiAgICBjb25zdCBuZXdUYWdMaXN0ID0gW1xuICAgICAgLi4udGFnTGlzdC5zbGljZSgwLCBpbmRleCksXG4gICAgICAuLi50YWdMaXN0LnNsaWNlKGluZGV4ICsgMSwgdGFnTGlzdC5sZW5ndGgpLFxuICAgIF07XG4gICAgc2V0VGFnTGlzdChbLi4ubmV3VGFnTGlzdF0pO1xuICAgIHNldEFjdGl2ZUxpc3QoW1xuICAgICAgLi4uYWN0aXZlTGlzdC5zbGljZSgwLCBpbmRleCksXG4gICAgICAuLi5hY3RpdmVMaXN0LnNsaWNlKGluZGV4ICsgMSwgYWN0aXZlTGlzdC5sZW5ndGgpLFxuICAgIF0pO1xuICAgIGlmIChuZXdUYWdMaXN0Lmxlbmd0aCA9PT0gMCkgc2V0VXJsKHMpO1xuICAgIGVsc2Ugc2V0VXJsKHJlbW92ZU9wdGlvblRvVXJsKHVybCwgcXVlcnksIHRvKSk7XG4gIH07XG5cbiAgLy8gZXZlbnQ6IMSRw7NuZyB04bqldCBj4bqjIGPDoWMgdGFnXG4gIGNvbnN0IG9uQ2xvc2VBbGwgPSAoKSA9PiB7XG4gICAgc2V0QWN0aXZlTGlzdChbXSk7XG4gICAgc2V0VGFnTGlzdChbXSk7XG4gICAgc2V0VXJsKHMpO1xuICB9O1xuXG4gIC8vIGZuOiBoaeG7g24gdGjhu4sgYuG7mSBs4buNY1xuICBmdW5jdGlvbiByZW5kZXJGaWx0ZXJPcHRpb24odHlwZSkge1xuICAgIGlmICh0eXBlIDwgMCkgcmV0dXJuO1xuICAgIGNvbnN0IGxpc3QgPSBjb25zdGFudHMuRklMVEVSX09QVElPTl9MSVNULmZpbmQoKGl0ZW0pID0+IGl0ZW0ua2V5ID09PSB0eXBlKVxuICAgICAgLmRhdGE7XG4gICAgcmV0dXJuIChcbiAgICAgIGxpc3QgJiZcbiAgICAgIGxpc3QubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cIkZpbHRlci1PcHRpb25zLWl0ZW0gbS10Yi0xNFwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJGaWx0ZXItT3B0aW9ucy1pdGVtLS10aXRsZVwiPntpdGVtLnRpdGxlfTwvaDM+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtpdGVtLnN1YkZpbHRlcnMubWFwKChzdWIsIGkpID0+IHtcbiAgICAgICAgICAgICAgbGV0IGtleSA9IGluZGV4LnRvU3RyaW5nKCkgKyBpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3ItcmFkLTQgbS1yLTggJHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlTGlzdC5maW5kSW5kZXgoKHZhbHVlKSA9PiB2YWx1ZSA9PT0ga2V5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnZmlsdGVyLWFjdGl2ZS1idG4nXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uQ2hlY2tlZChzdWIsIGl0ZW0ucXVlcnksIGtleSl9PlxuICAgICAgICAgICAgICAgICAge3N1Yi50aXRsZX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpXG4gICAgKTtcbiAgfVxuXG4gIC8vIGZuOiBoaeG7g24gdGjhu4sgdGFnIMSRYW5nIGNo4buNbiBs4buNY1xuICBmdW5jdGlvbiBzaG93VGFnTGlzdCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGFnTGlzdCAmJlxuICAgICAgdGFnTGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgIDxUYWdcbiAgICAgICAgICBjbGFzc05hbWU9XCJib3ItcmFkLTRcIlxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgY2xvc2FibGU9e3RydWV9XG4gICAgICAgICAgY29sb3I9e2l0ZW0uY29sb3J9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gb25DbG9zZVRhZyhpdGVtLmtleSwgaXRlbS5xdWVyeSwgaXRlbS50byl9PlxuICAgICAgICAgIHtpdGVtLnRpdGxlfVxuICAgICAgICA8L1RhZz5cbiAgICAgICkpXG4gICAgKTtcbiAgfVxuXG4gIC8vIHJlbmRlcmluZy4uLlxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCIgc3R5bGU9e3sgbWluSGVpZ2h0OiAnMTAwdmgnIH19PlxuICAgICAgey8qIENhcm91c2VsICovfVxuICAgICAgPFByb2R1Y3RDYXJvdXNlbCAvPlxuXG4gICAgICB7LyogU+G7kSAga+G6v3QgcXXhuqMgdMOsbSBraeG6v20gKi99XG4gICAgICB7IWlzTG9hZGluZyAmJiAoXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LXNpemUtMjRweCBtLWItMTJcIj5cbiAgICAgICAgICBUw6xtIMSRxrDhu6NjIDxiPnt0b3RhbH08L2I+IHPhuqNuIHBo4bqpbVxuICAgICAgICA8L2gyPlxuICAgICAgKX1cblxuICAgICAgey8qIGxvYWRpbmcgKi99XG4gICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICA8U3BpblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRyYW5zLWNlbnRlclwiXG4gICAgICAgICAgdGlwPVwixJBhbmcgdMOsbSBraeG6v20gc+G6o24gcGjhuqltIHBow7kgaOG7o3AgLi4uXCJcbiAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPD5cbiAgICAgICAgICB7LyogQuG7mSBs4buNYyAgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJGaWx0ZXItT3B0aW9ucyBwLXRiLTE2IGJnLXdoaXRlIGJvci1yYWQtOCBib3gtc2hhLWhvbWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1hY3RpdmUgcC1sci0xNiBwLWItOCBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwiZm9udC1zaXplLTIycHggZmlsdGVyLWxpc3QgbS1yLTIwXCI+QuG7mSBs4buNYzwvYj5cbiAgICAgICAgICAgICAge3RhZ0xpc3QubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWktY2VudGVyIGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICB7c2hvd1RhZ0xpc3QoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3ItcmFkLTRcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFzaGVkXCJcbiAgICAgICAgICAgICAgICAgICAgZGFuZ2VyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2VBbGx9PlxuICAgICAgICAgICAgICAgICAgICA8Yj5Yb8OhIHThuqV0IGPhuqM8L2I+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLWxyLTE2IHAtdC0xNlwiPntyZW5kZXJGaWx0ZXJPcHRpb24odHlwZSl9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogS+G6v3QgcXXhuqMgbOG7jWMsIHTDrG0ga2nhur9tICovfVxuICAgICAgICAgIDxSZXN1bHRTZWFyY2ggaW5pdExpc3Q9e2xpc3R9IC8+XG5cbiAgICAgICAgICB7LyogcGFnaW5hdGlvbiAqL31cbiAgICAgICAgICB7dG90YWwgPiAwICYmIChcbiAgICAgICAgICAgIDxQYWdpbmF0aW9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm0tdGItMTYgdC1jZW50ZXJcIlxuICAgICAgICAgICAgICB0b3RhbD17dG90YWx9XG4gICAgICAgICAgICAgIGN1cnJlbnQ9e3BhZ2V9XG4gICAgICAgICAgICAgIHNob3dTaXplQ2hhbmdlcj17ZmFsc2V9XG4gICAgICAgICAgICAgIHBhZ2VTaXplPXtwZXJQYWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHApID0+IHNldFBhZ2UocCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsdGVyUmVzdWx0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==